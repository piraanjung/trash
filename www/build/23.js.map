{"version":3,"sources":["../../src/pages/register/register.ts","../../src/pages/register/register.module.ts"],"names":[],"mappings":"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","file":"23.js","sourcesContent":["import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { HttpClient } from '@angular/common/http';\nimport { Slides, ModalController } from 'ionic-angular';\nimport { AlertController } from 'ionic-angular';\n// import { Loading } from 'ionic-angular/components/loading/loading';\nimport { AuthenProvider } from '../../providers/authen/authen';\nimport { API_URL } from \"../../providers/api-url\";\n/**\n * Generated class for the RegisterPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage({\n  \"name\" : \"register\"\n})\n@Component({\n  selector: 'page-register',\n  templateUrl: 'register.html',\n})\nexport class RegisterPage {\n  submit(arg0: any): any {\n    throw new Error(\"Method not implemented.\");\n  }\n  provinces:any;\n  province:any;\n  districts:any;\n  district:any;\n  municipalities:any = [];\n  municipality:any = [];\n  offices:any=[];\n  apiUrl: string;\n  cat_name: string;\n  showBtnMobilePasswordPage: boolean =false;\n  checkmobile: boolean= false;\n  currentIndex: number=0;\n  @ViewChild(Slides) slides: Slides;\n  user:any=[];\n  confirm:boolean=false;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    private authen:AuthenProvider, public modalCtrl: ModalController,\n    private alertCtrl: AlertController,\n    private http: HttpClient) {\n      this.navCtrl = navCtrl;\n      this.apiUrl =API_URL;\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad RegisterPage');\n    this.slides.lockSwipes(false);\n\n  }\n\n  slideChanged(){\n    this.currentIndex = this.slides.getActiveIndex();\n    \n    console.log('Current index is', this.currentIndex);\n  }\n\n  categoryChoosed(cat:string){\n    this.user.user_cat_id = cat  \n    this.categories(this.user.user_cat_id);\n        console.log(this.cat_name)\n    this.goToNextSlide(); \n  }\n\n  goToNextSlide() {\n    this.slides.lockSwipes(false);\n    this.slides.slideTo(this.currentIndex+1, 500);\n    this.slides.lockSwipes(true);\n  }\n\n  goToPrvSlide(){\n    if(this.currentIndex > 0){\n      this.slides.lockSwipes(false);\n      this.slides.slideTo(this.currentIndex-1, 500);\n      this.slides.lockSwipes(true);\n    }\n  }\n\n  checkDuplicateMobile(){\n    if(this.user.phone.length ==10){\n        this.authen.check_duplicate_mobile(this.user.phone)\n          .subscribe(res => {\n            if(res == '1'){\n              this.presentAlert(\"ตรวจสอบ\", \"หมายเลขนี้ถูกใช้สมัครแล้ว\")\n              this.checkmobile =false\n              this.showBtnMobilePasswordPage = false\n            }else{\n              this.checkmobile =true;\n             \n              console.log(this.user)\n            }\n        });\n    }else{\n      this.checkmobile =false\n      this.showBtnMobilePasswordPage =false\n    }\n  }\n  checkPassword(){\n    if(this.checkmobile==false){\n      this.presentAlert(\"\", \"คุณยังไม่ได้กรอกหมายเลขโทรศัพท์\")\n      this.user.password =\"\";\n    }else{\n      if(this.user.password.length >3){\n        this.showBtnMobilePasswordPage = true\n        this.getProvinces();\n      }else{\n        this.showBtnMobilePasswordPage = false\n      }\n    }\n  }\n\n  getFilterDistricts(){\n    let url = '/districts/'+this.user.province['id'];\n    this.http.get(this.apiUrl+url).subscribe((res)=>{\n      this.districts =  res;\n    });\n  }\n\n  getFilterLocalgevernment(){\n\n    let url = '/municipalities/'+this.user.district['id'];\n    console.log(this.apiUrl+url)\n    this.http.get(this.apiUrl+url).subscribe((res)=>{\n      this.municipalities =  res;\n      console.log(this.municipalities);\n    });\n  }\n\n  getProvinces(){\n    let url = \"/provinces\";\n    this.http.get(this.apiUrl+url).subscribe(\n      (res) => {\n        this.provinces =res;\n        console.log(this.provinces);\n      \n      }\n    );\n  }\n\n  getOffice(){\n    console.log(this.user.municipality['id']);\n    let url = '/office/'+this.user.municipality['id'];\n    this.http.get(this.apiUrl+url).subscribe(res=>{\n      this.offices = res;\n      // if(this.office === \"\"){\n      //   this.presentAlert('','เลือกยังไม่ครบ')\n      // }\n    });\n    console.log(this.user.office)\n  }\n\n  checkUserAddress(){\n    if(this.user.province ==\"\" || this.user.district ==\"\" || this.user.municipality ==\"\" \n      || this.user.address==\"\" || (this.user.user_cat_id==\"2\" && this.user.school==\"\")){\n     \n      this.presentAlert('',\"กรุณากรอกข้อมูลให้ครบ..\")\n    }else{\n      this.goToNextSlide();\n    }\n  }\n\n\n\n  presentAlert(title, subtitle) {\n    let alert = this.alertCtrl.create({\n      title: title,\n      subTitle: subtitle,\n      buttons: ['Dismiss']\n    });\n    alert.present();\n  }\n\n  categories(id){\n    switch(id){\n      case 1:\n        this.cat_name = 'เทศบาล'\n        break;\n      case 2:\n        this.cat_name = 'โรงเรียน'\n        break;\n      case 3:\n        this.cat_name = 'หน่วยงาน/องค์กร'\n        break;\n      case 4:\n        this.cat_name = 'โรงพยาบาล'\n        break;\n    }\n  }\n\n  checkOffice(){\n    console.log(this.user.office)\n  }\n\n  openModal() {\n    let myModal = this.modalCtrl.create(\"roles\");\n    myModal.present();\n  }\n\n  confirmres(id){\n    id==1 ? this.confirm =true : this.confirm =false\n    console.log(this.confirm)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { RegisterPage } from './register';\n\n@NgModule({\n  declarations: [\n    RegisterPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(RegisterPage),\n  ],\n})\nexport class RegisterPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.module.ts"],"sourceRoot":""}